<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contagem de TAGs</title>
    <style>
        table {
            width: 50%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h2>Entrada de TAGs</h2>
    <label for="tags">Insira as TAGs (separadas por espaço):</label><br>
    <input type="text" id="tags" name="tags" style="width: 100%; padding: 8px;"><br><br>
    <button onclick="processTags()">Processar TAGs</button>

    <h2>TAGs Encontrados</h2>
    <table id="tagTable">
        <thead>
            <tr>
                <th>TAG</th>
                <!--<th>Quantidade</th>-->
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Contagem de TAGs por Prefixo</h2>
    <table id="summaryTable">
        <thead>
            <tr>
                <th>Prefixo</th>
                <th>Quantidade</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function processTags() {
                    let in_tags = document.getElementById('tags').value;
                    let trata = in_tags.split(' ');
        
                    let tab_all = [];
                    let contagem = {'HS': 0, 'XL': 0, 'AST': 0, 'USH': 0, 'XV': 0, 'LSH': 0, 'PIT': 0, 'LIT': 0, 'LSHH': 0, 'LCV': 0, 'LSLL': 0, 'TCV': 0, 'FI': 0, 'FCV': 0, 'LSL': 0, 'SDV': 0, 'LG': 0};
        
                    // Loop para verificar o prefixo de cada tag e contá-las
                    trata.forEach(i => {
                        if (i.startsWith('HS-')) {
                            contagem['HS'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('XL-')) {
                            contagem['XL'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('AST-')) {
                            contagem['AST'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('USH-')) {
                            contagem['USH'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('RTU-')) {
                            contagem['RTU'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('XV-')) {
                            contagem['XV'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LSH-')) {
                            contagem['LSH'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('PIT-')) {
                            contagem['PIT'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LIT-')) {
                            contagem['LIT'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LSHH-')) {
                            contagem['LSHH'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LCV-')) {
                            contagem['LCV'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LSLL-')) {
                            contagem['LSLL'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('TCV-')) {
                            contagem['TCV'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('FI-')) {
                            contagem['FI'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('FCV-')) {
                            contagem['FCV'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('SDV-')) {
                            contagem['SDV'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LG-')) {
                            contagem['LG'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        } else if (i.startsWith('LSL-')) {
                            contagem['LSL'] += 1;
                            tab_all.push(i); // Adiciona apenas a TAG
                        }
                    });
        
                    // Ordenar TAGs em ordem alfabética
                    tab_all.sort();
        
                    // Mostrar as TAGs Encontradas
                    let tagTableBody = document.querySelector('#tagTable tbody');
                    tagTableBody.innerHTML = ''; // Limpa a tabela antes de preencher
        
                    tab_all.forEach(tag => {
                        let row = `<tr>
                            <td>${tag}</td> <!-- Somente TAG -->
                        </tr>`;
                        tagTableBody.innerHTML += row;
                    });
        
                    // Mostrar a Contagem de Prefixos
                    let summaryTableBody = document.querySelector('#summaryTable tbody');
                    summaryTableBody.innerHTML = ''; // Limpa a tabela antes de preencher
        
                    Object.entries(contagem).forEach(([key, value]) => {
                        let row = `<tr>
                            <td>${key}</td>
                            <td>${value}</td>
                        </tr>`;
                        summaryTableBody.innerHTML += row;
                    });
                }
    </script>
</body>
</html>
